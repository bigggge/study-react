{"version":3,"sources":["lib/light-redux.js","node_modules/redux-thunk/es/index.js","lib/light-redux.test.js","../../light-react/lib/react.js","lib/light-redux-logger.js","index-0.js"],"names":["applyMiddleware","createStore","reducer","initialState","enhancer","undefined","Error","store","state","listeners","subscribe","listener","push","dispatch","action","forEach","getState","middleware","getPrevState","createThunkMiddleware","extraArgument","_ref","next","thunk","withExtraArgument","counter","incrementAsync","INCREMENT","DECREMENT","type","setTimeout","init","console","log","current","renderComponent","createElement","tag","attrs","children","render","vnode","container","appendChild","_render","String","document","createTextNode","component","createComponent","setComponentProps","element","dom","Object","keys","value","key","setAttribute","child","name","test","toLowerCase","style","cssText","removeAttribute","Component","props","stateChange","assign","inst","prototype","constructor","componentWillMount","componentWillReceiveProps","componentDidUpdate","componentWillUpdate","componentDidMount","parentNode","replaceChild","React","innerHTML","logger","App","num","getElementById"],"mappings":"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","file":"index-0.aa2681a3.map","sourceRoot":"..","sourcesContent":["/**\n * light-redux.js\n *\n * @author bigggge\n * 2018/3/14.\n */\nconst createStore = (reducer, initialState, enhancer) => {\n  if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = initialState;\n    initialState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore(reducer, initialState));\n  }\n\n  const store = {};\n  store.state = initialState;\n  store.listeners = [];\n\n  store.subscribe = (listener) => {\n    store.listeners.push(listener);\n  };\n\n  store.dispatch = (action) => {\n    store.state = reducer(store.state, action);\n    store.listeners.forEach(listener => listener());\n  };\n  store.getState = () => store.state;\n  return store;\n};\n\n// 中间件机制\n// Redux middleware 提供了一个分类处理 action 的机会。在 middleware 中，\n// 我们可以检阅每一个流过的 action,并挑选出特定类型的 action 进行相应操作，以此来改变 action。\n\n// 中间件示例\n// const logger = ({ dispatch, getState }) => action => {\n//   console.log(action, getState());\n//   return dispatch(action);\n// };\n// export default logger;\n\nexport function applyMiddleware(middleware) {\n  return store => {\n\n    return {\n      ...store,\n      dispatch: middleware({\n        getPrevState: store.getState,\n        dispatch: store.dispatch\n      })\n    };\n  };\n}\n\nexport default createStore;\n\n","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","import createStore, { applyMiddleware } from './light-redux';\nimport thunk from 'redux-thunk';\n\nconst INCREMENT = 'INCREMENT';\nconst DECREMENT = 'DECREMENT';\n\nexport function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT:\n      return state + 1;\n    case DECREMENT:\n      return state - 1;\n    default:\n      return 0;\n  }\n}\n\nexport function incrementAsync() {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch({ type: 'INCREMENT' });\n    }, 2000);\n  };\n}\n\nconst store = createStore(counter, 0, applyMiddleware(thunk));\nconst init = store.getState();\n\nconsole.log(`light-redux init ${init}`);\n\nfunction listener() {\n  const current = store.getState();\n  console.log(`current ${current}`);\n}\n\nstore.subscribe(listener);\nstore.dispatch({ type: 'INCREMENT' });\nstore.dispatch({ type: 'INCREMENT' });\nstore.dispatch({ type: 'DECREMENT' });\nstore.dispatch({ type: 'DECREMENT' });\nstore.dispatch(incrementAsync());","/**\n * react.js\n *\n * @author bigggge(me@haoduoyu.cc)\n * 2018/9/3.\n */\n\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag,\n    attrs,\n    children\n  };\n}\n\nfunction render(vnode, container) {\n  return container.appendChild(_render(vnode));\n}\n\nfunction _render(vnode) {\n  console.log(' [React] _render vnode', vnode);\n\n  if (vnode === null || vnode === undefined) {\n    vnode = '';\n  }\n\n  if (typeof vnode === 'number') {\n    vnode = String(vnode);\n  }\n\n  // 渲染字符串\n  if (typeof vnode === 'string') {\n    return document.createTextNode(vnode);\n    // 渲染组件（函数）\n  }\n\n  // 渲染组件\n  if (typeof vnode.tag === 'function') {\n    const component = createComponent(vnode.tag, vnode.attrs);\n    setComponentProps(component, vnode.attrs);\n    renderComponent(component);\n    return component.element;\n  }\n\n  const dom = document.createElement(vnode.tag);\n\n  if (vnode.attrs) {\n    Object.keys(vnode.attrs).forEach(key => {\n      const value = vnode.attrs[key];\n      setAttribute(dom, key, value);\n    });\n  }\n\n  if (vnode.children) {\n    vnode.children.forEach(child => render(child, dom));\n  }\n  return dom;\n}\n\n// 设置属性\nfunction setAttribute(dom, name, value) {\n  console.log(' [React] setAttribute dom,name,value', dom, name, value);\n\n  if (name === 'className') name = 'class';\n\n  if (/on\\w+/.test(name)) {\n    name = name.toLowerCase();\n    dom[name] = value || '';\n\n  } else if (name === 'style') {\n    if (!value || typeof value === 'string') {\n      dom.style.cssText = value || '';\n\n    } else if (value && typeof value === 'object') {\n      for (let name in value) {\n        dom.style[name] = typeof value[name] === 'number' ? value[name] + 'px' : value[name];\n      }\n    }\n\n  } else {\n    if (name in dom) {\n      dom[name] = value || '';\n    }\n    if (value) {\n      dom.setAttribute(name, value);\n    } else {\n      dom.removeAttribute(name, value);\n    }\n  }\n\n}\n\nclass Component {\n  constructor(props = {}) {\n    this.state = {};\n    this.props = props;\n  }\n\n  setState(stateChange) {\n    console.log(' [React] setState stateChange', stateChange);\n\n    Object.assign(this.state, stateChange);\n    // 渲染组件\n    renderComponent(this);\n  }\n}\n\n// 创建组件\nfunction createComponent(component, props) {\n  console.log(' [React] createComponent component,props', component, props);\n\n  let inst;\n  // 如果是类组件，直接返回实例\n  if (component.prototype && component.prototype.render) {\n    inst = new component(props);\n    // 如果是函数定义组件\n  } else {\n    inst = new Component(props);\n    inst.constructor = component;\n    inst.render = function() {\n      return this.constructor(props);\n    };\n  }\n  return inst;\n}\n\nfunction setComponentProps(component, props) {\n  console.log(' [React] setComponentProps component,props', component, props);\n  if (!component.element) {\n    if (component.componentWillMount) {\n      component.componentWillMount();\n    } else if (component.componentWillReceiveProps) {\n      component.componentWillReceiveProps(props);\n    }\n  }\n  component.props = props;\n}\n\nexport function renderComponent(component) {\n  console.log(' [React] renderComponent component', component);\n\n  let element;\n\n  const vnode = component.render();\n  if (component.element && component.componentDidUpdate) {\n    component.componentWillUpdate();\n  }\n  element = _render(vnode);\n\n  if (component.element) {\n    if (component.componentDidMount) {\n      component.componentDidMount();\n    } else if (component.componentDidUpdate) {\n      component.componentDidUpdate();\n    }\n  }\n\n  if (component.element) {\n    component.element.parentNode.replaceChild(element, component.element);\n  }\n\n  component.element = element;\n}\n\nconst React = {\n  createElement,\n  render: (vnode, container) => {\n    container.innerHTML = '';\n    return render(vnode, container);\n  },\n  Component,\n};\n\nexport default React;\n","const logger = ({ dispatch, getPrevState }) => action => {\n  console.log('[Redux-logger] ', action, getPrevState());\n  return dispatch(action);\n};\nexport default logger;","import createStore, { applyMiddleware } from './lib/light-redux';\nimport { counter, incrementAsync } from './lib/light-redux.test';\nimport React from '../../light-react/lib/react';\nimport logger from './lib/light-redux-logger';\n\nconst store = createStore(counter, 0, applyMiddleware(logger));\n\nclass App extends React.Component {\n  render() {\n    const store = this.props.store;\n    const num = store.getState();\n    return (\n      <div className={'App'}>\n        <p>light-redux-with-react</p>\n        <p>初始值 {num}</p>\n        <button onClick={() => store.dispatch({ type: 'INCREMENT' })}>increment</button>\n        <button onClick={() => store.dispatch({ type: 'DECREMENT' })}>decrement</button>\n        <button onClick={() => store.dispatch(incrementAsync())}>increment async</button>\n      </div>\n    );\n  }\n\n}\n\nfunction render() {\n  React.render(\n    <App store={store} />,\n    document.getElementById('root')\n  );\n}\n\nrender();\n\nstore.subscribe(render);"]}ment</button>\n        <button onClick={() => store.dispatch(incrementAsync())}>increment async</button>\n      </div>\n    );\n  }\n\n}\n\nfunction render() {\n  React.render(\n    <App store={store} />,\n    document.getElementById('root')\n  );\n}\n\nrender();\n\nstore.subscribe(render);"]}