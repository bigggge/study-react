{"version":3,"sources":["lib/light-redux.js","node_modules/redux-thunk/es/index.js","lib/light-redux.test.js","../../light-react/lib/react.js","lib/light-redux-logger.js","lib/light-redux-thunk.js","index-0.js"],"names":["applyMiddleware","applyMiddlewares","createStore","reducer","initialState","enhancer","undefined","store","state","listeners","subscribe","listener","push","dispatch","action","forEach","getState","middleware","getPrevState","middlewares","console","log","middlewareAPI","middlewareChain","map","compose","fns","length","reduce","ret","createThunkMiddleware","extraArgument","_ref","next","thunk","withExtraArgument","counter","incrementAsync","INCREMENT","DECREMENT","type","setTimeout","init","current","setAttribute","createComponent","setComponentProps","renderComponent","createElement","tag","attrs","children","render","vnode","container","appendChild","_render","String","document","createTextNode","component","element","dom","Object","keys","value","key","child","name","test","toLowerCase","style","cssText","removeAttribute","Component","props","stateChange","assign","inst","prototype","constructor","componentWillMount","componentWillReceiveProps","componentWillUpdate","componentDidMount","componentDidUpdate","parentNode","replaceChild","_component","React","innerHTML","logger","nextDispatch","App","num","getElementById"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AErLf,IAAMvD,QAAQ,SAARA,KAAQ;AAAA,MAAGrB,QAAH,QAAGA,QAAH;AAAA,MAAaK,YAAb,QAAaA,YAAb;AAAA,SAAgC;AAAA,WAAgB,kBAAU;AACtE,UAAI,OAAOJ,MAAP,KAAkB,UAAtB,EAAkC;AAChC,eAAOA,OAAOD,QAAP,EAAiBK,YAAjB,CAAP;AACD;;AAED,aAAO0E,aAAa9E,MAAb,CAAP;AACD,KAN6C;AAAA,GAAhC;AAAA,CAAd;;kBAQeoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ADRf,IAAMyD,SAAS,SAATA,MAAS;AAAA,MAAG9E,QAAH,QAAGA,QAAH;AAAA,MAAaK,YAAb,QAAaA,YAAb;AAAA,SAAgC;AAAA,WAAgB,kBAAU;;AAEvEE,cAAQC,GAAR,CAAY,8BAAZ,EAA4C,YAA5C,EAA0DH,cAA1D;AACAE,cAAQC,GAAR,CAAY,gBAAZ,EAA8BP,MAA9B;AACA,UAAImB,OAAO2D,aAAa9E,MAAb,CAAX;AACAM,cAAQC,GAAR,CAAY,8BAAZ,EAA4C,sBAA5C,EAAoEH,cAApE;AACA,aAAOe,IAAP;AACD,KAP8C;AAAA,GAAhC;AAAA,CAAf;;kBASe0D;;AAEf;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEhBA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA;AACA,IAAMpF,QAAQ,0BAAY6B,oBAAZ,EAAqB,CAArB,EAAwB,kCAAiBF,yBAAjB,EAAwByD,0BAAxB,CAAxB,CAAd;;IAEME;;;;;;;;;;;6BACK;AACP,UAAMtF,QAAQ,KAAKoE,KAAL,CAAWpE,KAAzB;AACA,UAAMuF,MAAMvF,MAAMS,QAAN,EAAZ;AACA,aACE;AAAA;AAAA,UAAK,WAAW,KAAhB;AACE;AAAA;AAAA;AAAA;AAAA,SADF;AAEE;AAAA;AAAA;AAAA;AAAQ8E;AAAR,SAFF;AAGE;AAAA;AAAA,YAAQ,SAAS,mBAAM;AACrBvF,oBAAMM,QAAN,CAAe,EAAE2B,MAAM,WAAR,EAAf;AACD,aAFD;AAAA;AAAA,SAHF;AAQE;AAAA;AAAA,YAAQ,SAAS;AAAA,qBAAMjC,MAAMM,QAAN,CAAe,EAAE2B,MAAM,WAAR,EAAf,CAAN;AAAA,aAAjB;AAAA;AAAA,SARF;AASE;AAAA;AAAA,YAAQ,SAAS;AAAA,qBAAMjC,MAAMM,QAAN,CAAe,kCAAf,CAAN;AAAA,aAAjB;AAAA;AAAA;AATF,OADF;AAaD;;;;EAjBe4E,gBAAMf;;AAqBxB,SAAStB,MAAT,GAAkB;AAChBqC,kBAAMrC,MAAN,CACE,8BAAC,GAAD,IAAK,OAAO7C,KAAZ,GADF,EAEEmD,SAASqC,cAAT,CAAwB,MAAxB,CAFF;AAID;;AAED3C;;AAEA7C,MAAMG,SAAN,CAAgB0C,MAAhB","file":"index-0.aa2681a3.map","sourceRoot":"..","sourcesContent":["/**\n * light-redux.js\n *\n * @author bigggge\n * 2018/3/14.\n */\n/**\n * createStore\n * 创建一个 redux store\n *\n * @param reducer      返回下一状态的函数\n * @param initialState 初始状态\n * @param enhancer     使用 applyMiddlewares 包装后的中间件函数\n * @return store\n */\nconst createStore = (reducer, initialState, enhancer) => {\n  if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = initialState;\n    initialState = undefined;\n  }\n\n  // middlewares\n  if (enhancer) {\n    return enhancer(createStore(reducer, initialState));\n  }\n\n  const store = {};\n  store.state = initialState;\n  store.listeners = [];\n\n  store.subscribe = (listener) => {\n    store.listeners.push(listener);\n  };\n\n  store.dispatch = (action) => {\n    store.state = reducer(store.state, action);\n    store.listeners.forEach(listener => listener());\n  };\n  store.getState = () => store.state;\n  return store;\n};\n\n// 中间件机制\n// Redux middleware 提供了一个分类处理 action 的机会。在 middleware 中，\n// 我们可以检阅每一个流过的 action,并挑选出特定类型的 action 进行相应操作，以此来改变 action。\n\n// 中间件示例 (返回 dispatch)\n// const logger = ({ dispatch, getState }) => action => {\n//   console.log(action, getState());\n//   return dispatch(action);\n// };\n// export default logger;\n\nexport function applyMiddleware(middleware) {\n  return store => {\n    const dispatch = middleware({\n      getPrevState: store.getState,\n      dispatch: store.dispatch\n    });\n\n    return {\n      ...store,\n      dispatch\n    };\n  };\n}\n\n/**\n * 支持多个中间件\n * @param middlewares\n * @return {function(*)}\n */\n// const logger = ({ dispatch, getPrevState }) => next => action => {\n//   console.log('[redux-logger] ', action, getPrevState());\n//   return next(action);\n// };\nexport function applyMiddlewares(...middlewares) {\n  return store => {\n    console.log('applyMiddlewares', middlewares);\n\n    let dispatch = () => {};\n\n    let middlewareAPI = {\n      getPrevState: store.getState,\n      dispatch: action => dispatch(action)\n    };\n\n    const middlewareChain = middlewares.map(middleware => middleware(middlewareAPI));\n\n    dispatch = compose(middlewareChain)(store.dispatch);\n\n    return {\n      ...store,\n      dispatch\n    };\n  };\n}\n\n/**\n * compose\n *\n * @param fns [fn1, fn2]\n * @return {*}\n */\n// dispatch = f1(f2(f3(store.dispatch))))\nfunction compose(fns) {\n  if (fns.length === 1) {\n    return fns[0];\n  }\n  return fns.reduce((ret, middleware) => dispatch => ret(middleware(dispatch)));\n}\n\nexport default createStore;\n\n","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","import createStore, { applyMiddlewares } from './light-redux';\nimport thunk from 'redux-thunk';\n\nconst INCREMENT = 'INCREMENT';\nconst DECREMENT = 'DECREMENT';\n\nexport function counter(state = 0, action) {\n  switch (action.type) {\n    case INCREMENT:\n      return state + 1;\n    case DECREMENT:\n      return state - 1;\n    default:\n      return 0;\n  }\n}\n\nexport function incrementAsync() {\n  return (dispatch) => {\n    setTimeout(() => {\n      dispatch({ type: 'INCREMENT' });\n    }, 2000);\n  };\n}\n\nfunction init() {\n\n  const store = createStore(counter, 0, applyMiddlewares(thunk));\n  const init = store.getState();\n\n  function listener() {\n    const current = store.getState();\n    console.log(`current ${current}`);\n  }\n\n  store.subscribe(listener);\n  store.dispatch({ type: 'INCREMENT' });\n  store.dispatch({ type: 'INCREMENT' });\n  store.dispatch({ type: 'DECREMENT' });\n  store.dispatch({ type: 'DECREMENT' });\n  store.dispatch(incrementAsync());\n}\n","/**\n * react.js\n *\n * @author bigggge(me@haoduoyu.cc)\n * 2018/9/3.\n */\n\nfunction log() {\n  // console.log(arguments)\n}\n\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag,\n    attrs,\n    children\n  };\n}\n\nfunction render(vnode, container) {\n  return container.appendChild(_render(vnode));\n}\n\nfunction _render(vnode) {\n  log(' [React] _render vnode', vnode);\n\n  if (vnode === null || vnode === undefined) {\n    vnode = '';\n  }\n\n  if (typeof vnode === 'number') {\n    vnode = String(vnode);\n  }\n\n  // 渲染字符串\n  if (typeof vnode === 'string') {\n    return document.createTextNode(vnode);\n    // 渲染组件（函数）\n  }\n\n  // 渲染组件\n  if (typeof vnode.tag === 'function') {\n    const component = createComponent(vnode.tag, vnode.attrs);\n    setComponentProps(component, vnode.attrs);\n    renderComponent(component);\n    return component.element;\n  }\n\n  const dom = document.createElement(vnode.tag);\n\n  if (vnode.attrs) {\n    Object.keys(vnode.attrs).forEach(key => {\n      const value = vnode.attrs[key];\n      setAttribute(dom, key, value);\n    });\n  }\n\n  if (vnode.children) {\n    vnode.children.forEach(child => render(child, dom));\n  }\n  return dom;\n}\n\n// 设置属性\nexport function setAttribute(dom, name, value) {\n  log(' [React] setAttribute dom,name,value', dom, name, value);\n\n  if (name === 'className') name = 'class';\n\n  if (/on\\w+/.test(name)) {\n    name = name.toLowerCase();\n    dom[name] = value || '';\n\n  } else if (name === 'style') {\n    if (!value || typeof value === 'string') {\n      dom.style.cssText = value || '';\n\n    } else if (value && typeof value === 'object') {\n      for (let name in value) {\n        dom.style[name] = typeof value[name] === 'number' ? value[name] + 'px' : value[name];\n      }\n    }\n\n  } else {\n    if (name in dom) {\n      dom[name] = value || '';\n    }\n    if (value) {\n      dom.setAttribute(name, value);\n    } else {\n      dom.removeAttribute(name, value);\n    }\n  }\n\n}\n\n// Component\nclass Component {\n  constructor(props = {}) {\n    this.state = {};\n    this.props = props;\n  }\n\n  setState(stateChange) {\n    log(' [React] setState stateChange', stateChange);\n\n    Object.assign(this.state, stateChange);\n    // 渲染组件\n    renderComponent(this);\n  }\n}\n\n// 创建组件\nexport function createComponent(component, props) {\n  log(' [React] createComponent component,props', component, props);\n\n  let inst;\n  // 如果是类组件，直接返回实例\n  if (component.prototype && component.prototype.render) {\n    inst = new component(props);\n    // 如果是函数定义组件\n  } else {\n    inst = new Component(props);\n    inst.constructor = component;\n    inst.render = function() {\n      return this.constructor(props);\n    };\n  }\n  return inst;\n}\n\n// 更新 props\nexport function setComponentProps(component, props) {\n  log(' [React] setComponentProps component,props', component, props);\n  if (!component.element) {\n    if (component.componentWillMount) {\n      component.componentWillMount();\n    } else if (component.componentWillReceiveProps) {\n      component.componentWillReceiveProps(props);\n    }\n  }\n  component.props = props;\n}\n\nexport function renderComponent(component) {\n  log(' [React] renderComponent component', component);\n\n  let element;\n\n  const vnode = component.render();\n  if (component.element && component.componentWillUpdate) {\n    component.componentWillUpdate();\n  }\n  element = _render(vnode);\n  // element = diff(component.element, vnode);\n\n  if (component.element) {\n    if (component.componentDidMount) {\n      component.componentDidMount();\n    } else if (component.componentDidUpdate) {\n      component.componentDidUpdate();\n    }\n  }\n\n  if (component.element) {\n    component.element.parentNode.replaceChild(element, component.element);\n  }\n\n  component.element = element;\n  element._component = component;\n}\n\nconst React = {\n  createElement,\n  render: (vnode, container) => {\n    container.innerHTML = '';\n    return render(vnode, container);\n  },\n  Component,\n};\n\nexport default React;\n","const logger = ({ dispatch, getPrevState }) => nextDispatch => action => {\n\n  console.log('[redux-logger] %c prev state', 'color:gray', getPrevState());\n  console.log('[redux-logger]', action);\n  let next = nextDispatch(action);\n  console.log('[redux-logger] %c next state', 'color:cornflowerblue', getPrevState());\n  return next;\n};\n\nexport default logger;\n\n// const logger = ({ dispatch, getPrevState }) => action => {\n//   console.log(action, getPrevState());\n//   return dispatch(action);\n// };\n//\n// export default logger;\n\n","const thunk = ({ dispatch, getPrevState }) => nextDispatch => action => {\n  if (typeof action === 'function') {\n    return action(dispatch, getPrevState);\n  }\n\n  return nextDispatch(action);\n};\n\nexport default thunk;\n","import createStore, { applyMiddlewares } from './lib/light-redux';\nimport { counter, incrementAsync } from './lib/light-redux.test';\nimport React from '../../light-react/lib/react';\nimport logger from './lib/light-redux-logger';\nimport thunk from './lib/light-redux-thunk';\n\n// const store0 = createStore(counter, 0, applyMiddleware(logger));\nconst store = createStore(counter, 0, applyMiddlewares(thunk, logger));\n\nclass App extends React.Component {\n  render() {\n    const store = this.props.store;\n    const num = store.getState();\n    return (\n      <div className={'App'}>\n        <p>light-redux-with-react</p>\n        <p>初始值 {num}</p>\n        <button onClick={() => {\n          store.dispatch({ type: 'INCREMENT' });\n        }}>\n          increment\n        </button>\n        <button onClick={() => store.dispatch({ type: 'DECREMENT' })}>decrement</button>\n        <button onClick={() => store.dispatch(incrementAsync())}>increment async</button>\n      </div>\n    );\n  }\n\n}\n\nfunction render() {\n  React.render(\n    <App store={store} />,\n    document.getElementById('root')\n  );\n}\n\nrender();\n\nstore.subscribe(render);"]}